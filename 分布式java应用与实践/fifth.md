# 性能调优
> 调优的方向：硬件  操作系统  软件运行的环境以及本身
  * 寻找性能瓶颈
    - CPU消耗分析
      * Linux中的CPU主要消耗在中断，内核与用户进程任务处理，优先级一次递减
      * 几个比较重要的概念：
        - 上下文切换 
          * 每个CPU在同一时间只能执行一个线程，Linux采用的是抢占式调度，为每个线程分配一定执行时间，时间截止或者线程的优先级等事件需要切换当前进行的线程，在切换时需要存储目前线程的状态，并恢复当前需要执行的线程；
          * 典型触发上下文切换：文件IO操作  网络IO操作 线程sleep
          * 如果上下文切换的太多会造成内核占据较多的CPU使用，使得系统的响应变慢
        - 运行队列
          * 简述: 8个线程分配在四核的机器，每个CPU2个线程，假设线程是可运行且优先级相同
        - 利用率 
          * 描述的是CPU在用户 内核  中断处理  IO等待以及空闲时间的百分比
          * top命令或者pidstat或者vmstat查看CPU上下文的切换，运行以及利用率
    - 文件IO
      * Linux下再执行文件操作时会把数据放在
    - 网络IO
    - 内存消耗
    - 程序执行慢原因分析
  * 调优
    - jvm调优
    - 程序调优
    - 资源消耗不多但执行慢原因分析